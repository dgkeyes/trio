group_by(number) %>%
count() %>%
filter(!is.na(number)) %>%
ungroup() %>%
mutate(number = str_replace_all(number, c("two" = "2")))
other.staff <- pre.surveys %>%
filter(training_id == "2018 Online") %>%
select(if_no_how_many_other_staff_members_work_in_your_department_numerical_value_only) %>%
set_names("number") %>%
# mutate(number = as.integer(number))
group_by(number) %>%
count() %>%
filter(!is.na(number)) %>%
ungroup() %>%
mutate(number = as.character(number)) %>%
mutate(number = str_replace_all(number, c("two" = "2")))
other.staff <- pre.surveys %>%
filter(training_id == "2018 Online") %>%
select(if_no_how_many_other_staff_members_work_in_your_department_numerical_value_only) %>%
set_names("number") %>%
# mutate(number = as.integer(number))
group_by(number) %>%
count() %>%
filter(!is.na(number)) %>%
ungroup() %>%
mutate(number = as.character(number)) %>%
mutate(number = str_replace_all(number, c("2" = "two")))
other.staff <- pre.surveys %>%
filter(training_id == "2018 Online") %>%
select(if_no_how_many_other_staff_members_work_in_your_department_numerical_value_only) %>%
set_names("number") %>%
# mutate(number = as.integer(number))
group_by(number) %>%
count() %>%
filter(!is.na(number)) %>%
ungroup() %>%
mutate(number = as.character(number)) %>%
mutate(number = str_replace_all(number, c("2" = "two",
"3" = "three",
"4" = "four",
"5" = "five",
"6" = "six",
"7" = "seven",
"8" = "eight",
"9" = "nine",
"10" = "ten"))) %>%
mutate(number = paste(number, " other staff", sep = ""))
other.staff <- pre.surveys %>%
filter(training_id == "2018 Online") %>%
select(if_no_how_many_other_staff_members_work_in_your_department_numerical_value_only) %>%
set_names("number") %>%
# mutate(number = as.integer(number))
group_by(number) %>%
count() %>%
filter(!is.na(number)) %>%
ungroup() %>%
mutate(number = as.character(number)) %>%
mutate(number = str_replace_all(number, c("2" = "Two",
"3" = "Three",
"4" = "Four",
"5" = "Five",
"6" = "Six",
"7" = "Seven",
"8" = "Eight",
"9" = "Nine",
"10" = "Ten"))) %>%
mutate(number = paste(number, " other staff", sep = ""))
other.staff <- pre.surveys %>%
filter(training_id == "2018 Online") %>%
select(if_no_how_many_other_staff_members_work_in_your_department_numerical_value_only) %>%
set_names("number") %>%
# mutate(number = as.integer(number))
group_by(number) %>%
count() %>%
filter(!is.na(number)) %>%
ungroup() %>%
mutate(number = as.character(number)) %>%
mutate(number = str_replace_all(number, c("2" = "Two",
"3" = "Three",
"4" = "Four",
"5" = "Five",
"6" = "Six",
"7" = "Seven",
"8" = "Eight",
"9" = "Nine",
"10" = "Ten"))) %>%
mutate(number = paste(number, " other staff member", sep = ""))
other.staff <- pre.surveys %>%
filter(training_id == "2018 Online") %>%
select(if_no_how_many_other_staff_members_work_in_your_department_numerical_value_only) %>%
set_names("number") %>%
# mutate(number = as.integer(number))
group_by(number) %>%
count() %>%
filter(!is.na(number)) %>%
ungroup() %>%
mutate(number = as.character(number)) %>%
mutate(number = str_replace_all(number, c("2" = "Two",
"3" = "Three",
"4" = "Four",
"5" = "Five",
"6" = "Six",
"7" = "Seven",
"8" = "Eight",
"9" = "Nine",
"10" = "Ten"))) %>%
mutate(number = paste(number, " other staff members", sep = "")) %>%
mutate(number = str_replace(number, "One other staff members", "One other staff member"))
other.staff <- pre.surveys %>%
filter(training_id == "2018 Online") %>%
select(if_no_how_many_other_staff_members_work_in_your_department_numerical_value_only) %>%
set_names("number") %>%
# mutate(number = as.integer(number))
group_by(number) %>%
count() %>%
filter(!is.na(number)) %>%
ungroup() %>%
mutate(number = as.character(number)) %>%
mutate(number = str_replace_all(number, c("2" = "Two",
"3" = "Three",
"4" = "Four",
"5" = "Five",
"6" = "Six",
"7" = "Seven",
"8" = "Eight",
"9" = "Nine",
"10" = "Ten"))) %>%
mutate(number = paste(number, " other staff members", sep = "")) %>%
mutate(number = factor(number, levels = rev(c("Two other staff members",
"Three other staff members",
"Four other staff members",
"Five other staff members",
"Six other staff members",
"Seven other staff members",
"Nine other staff members",
"Ten other staff members")))) %>%
mutate(popup_text = paste("Number of schools with ",
number,
" staff members: ",
n,
sep = ""))
p <- ggplot(other.staff, aes(x = number,
y = n,
text = popup_text)) +
geom_bar(stat = "identity", fill = mna.blue) +
coord_flip() +
mna.bar.chart.theme
ggplotly(p, tooltip = "popup_text")
other.staff <- pre.surveys %>%
filter(training_id == "2018 Online") %>%
select(if_no_how_many_other_staff_members_work_in_your_department_numerical_value_only) %>%
set_names("number") %>%
# mutate(number = as.integer(number))
group_by(number) %>%
count() %>%
filter(!is.na(number)) %>%
ungroup() %>%
mutate(number = as.character(number)) %>%
mutate(number = str_replace_all(number, c("2" = "Two",
"3" = "Three",
"4" = "Four",
"5" = "Five",
"6" = "Six",
"7" = "Seven",
"8" = "Eight",
"9" = "Nine",
"10" = "Ten"))) %>%
mutate(number = paste(number, " other staff members", sep = "")) %>%
mutate(number = factor(number, levels = rev(c("Two other staff members",
"Three other staff members",
"Four other staff members",
"Five other staff members",
"Six other staff members",
"Seven other staff members",
"Nine other staff members",
"Ten other staff members")))) %>%
mutate(popup_text = paste("Number of schools with ",
str_to_lower(number),
" staff members: ",
n,
sep = ""))
p <- ggplot(other.staff, aes(x = number,
y = n,
text = popup_text)) +
geom_bar(stat = "identity", fill = mna.blue) +
coord_flip() +
mna.bar.chart.theme
ggplotly(p, tooltip = "popup_text")
other.staff <- pre.surveys %>%
filter(training_id == "2018 Online") %>%
select(if_no_how_many_other_staff_members_work_in_your_department_numerical_value_only) %>%
set_names("number") %>%
# mutate(number = as.integer(number))
group_by(number) %>%
count() %>%
filter(!is.na(number)) %>%
ungroup() %>%
mutate(number = as.character(number)) %>%
mutate(number = str_replace_all(number, c("2" = "Two",
"3" = "Three",
"4" = "Four",
"5" = "Five",
"6" = "Six",
"7" = "Seven",
"8" = "Eight",
"9" = "Nine",
"10" = "Ten"))) %>%
mutate(number = paste(number, " other staff members", sep = "")) %>%
mutate(number = factor(number, levels = rev(c("Two other staff members",
"Three other staff members",
"Four other staff members",
"Five other staff members",
"Six other staff members",
"Seven other staff members",
"Nine other staff members",
"Ten other staff members")))) %>%
mutate(popup_text = paste("Number of schools with ",
str_to_lower(number),
": ",
n,
sep = ""))
p <- ggplot(other.staff, aes(x = number,
y = n,
text = popup_text)) +
geom_bar(stat = "identity", fill = mna.blue) +
coord_flip() +
mna.bar.chart.theme
ggplotly(p, tooltip = "popup_text")
p <- ggplot(knowledge.growth,
aes(x = avg_rating,
y = training_id,
group = training_id,
text = popup_text,
fill = factor(timing),
color = factor(timing))) +
geom_line() +
geom_point() +
facet_wrap(~item, ncol = 2) +
mna.bar.chart.theme +
theme(legend.position = "right") +
scale_fill_manual(values = c(mna.red, mna.blue)) +
scale_color_manual(values = c(mna.red, mna.blue)) +
scale_x_continuous(limits = c(0, 4))
ggplotly(p, tooltip = "popup_text")
p <- ggplot(knowledge.growth,
aes(x = avg_rating,
y = training_id,
group = training_id,
text = popup_text,
fill = factor(timing),
color = factor(timing))) +
geom_line() +
geom_point() +
facet_wrap(~item, ncol = 2) +
mna.bar.chart.theme +
theme(legend.position = "top") +
scale_fill_manual(values = c(mna.red, mna.blue)) +
scale_color_manual(values = c(mna.red, mna.blue)) +
scale_x_continuous(limits = c(0, 4))
ggplotly(p, tooltip = "popup_text")
p <- ggplot(knowledge.growth,
aes(x = avg_rating,
y = training_id,
group = training_id,
text = popup_text,
fill = factor(timing),
color = factor(timing))) +
geom_line() +
geom_point() +
facet_wrap(~item, ncol = 2) +
mna.bar.chart.theme +
theme(legend.position = "left") +
scale_fill_manual(values = c(mna.red, mna.blue)) +
scale_color_manual(values = c(mna.red, mna.blue)) +
scale_x_continuous(limits = c(0, 4))
ggplotly(p, tooltip = "popup_text")
p <- ggplot(knowledge.growth,
aes(x = avg_rating,
y = training_id,
group = training_id,
text = popup_text,
fill = factor(timing),
color = factor(timing))) +
geom_line() +
geom_point() +
facet_wrap(~item, ncol = 2) +
mna.bar.chart.theme +
theme(legend.position = "right") +
guides(fill=guide_legend(title="New Legend Title")) +
scale_fill_manual(values = c(mna.red, mna.blue)) +
scale_color_manual(values = c(mna.red, mna.blue)) +
scale_x_continuous(limits = c(0, 4))
ggplotly(p, tooltip = "popup_text")
p <- ggplot(knowledge.growth,
aes(x = avg_rating,
y = training_id,
group = training_id,
text = popup_text,
fill = factor(timing),
color = factor(timing))) +
geom_line() +
geom_point() +
facet_wrap(~item, ncol = 2) +
mna.bar.chart.theme +
theme(legend.position = "right") +
guides(fill=guide_legend(title="New Legend Title")) +
scale_fill_manual(values = c(mna.red, mna.blue)) +
scale_color_manual(values = c(mna.red, mna.blue)) +
scale_x_continuous(limits = c(0, 4))
ggplotly(p, tooltip = "popup_text")
p <- ggplot(knowledge.growth,
aes(x = avg_rating,
y = training_id,
group = training_id,
text = popup_text,
fill = factor(timing),
color = factor(timing))) +
geom_line() +
geom_point() +
facet_wrap(~item, ncol = 2) +
mna.bar.chart.theme +
theme(legend.position = "right") +
guides(fill=guide_legend(title="")) +
scale_fill_manual(values = c(mna.red, mna.blue)) +
scale_color_manual(values = c(mna.red, mna.blue)) +
scale_x_continuous(limits = c(0, 4))
ggplotly(p, tooltip = "popup_text")
p <- ggplot(knowledge.growth,
aes(x = avg_rating,
y = training_id,
group = training_id,
text = popup_text,
fill = factor(timing),
color = factor(timing))) +
geom_line() +
geom_point() +
facet_wrap(~item, ncol = 2) +
mna.bar.chart.theme +
theme(legend.position = "right") +
guides(fill=guide_legend(title=" ")) +
scale_fill_manual(values = c(mna.red, mna.blue)) +
scale_color_manual(values = c(mna.red, mna.blue)) +
scale_x_continuous(limits = c(0, 4))
ggplotly(p, tooltip = "popup_text")
p <- ggplot(knowledge.growth,
aes(x = avg_rating,
y = training_id,
group = training_id,
text = popup_text,
fill = factor(timing),
color = factor(timing))) +
geom_line() +
geom_point() +
facet_wrap(~item, ncol = 2) +
mna.bar.chart.theme +
theme(legend.position = "right") +
guides(fill=guide_legend(title="Pre/Post")) +
scale_fill_manual(values = c(mna.red, mna.blue)) +
scale_color_manual(values = c(mna.red, mna.blue)) +
scale_x_continuous(limits = c(0, 4))
ggplotly(p, tooltip = "popup_text")
p <- ggplot(knowledge.growth,
aes(x = avg_rating,
y = training_id,
group = training_id,
text = popup_text,
fill = factor(timing),
color = factor(timing))) +
geom_line() +
geom_point() +
facet_wrap(~item, ncol = 2) +
mna.bar.chart.theme +
theme(legend.position = "right") +
# guides(fill=guide_legend(title="Pre/Post")) +
labs(fill = "Your Title") +
scale_fill_manual(values = c(mna.red, mna.blue)) +
scale_color_manual(values = c(mna.red, mna.blue)) +
scale_x_continuous(limits = c(0, 4))
ggplotly(p, tooltip = "popup_text")
p <- ggplot(knowledge.growth,
aes(x = avg_rating,
y = training_id,
group = training_id,
text = popup_text,
fill = factor(timing),
color = factor(timing))) +
geom_line() +
geom_point() +
facet_wrap(~item, ncol = 2) +
mna.bar.chart.theme +
theme(legend.position = "right") +
# guides(fill=guide_legend(title="Pre/Post")) +
labs(fill = "") +
scale_fill_manual(values = c(mna.red, mna.blue)) +
scale_color_manual(values = c(mna.red, mna.blue)) +
scale_x_continuous(limits = c(0, 4))
ggplotly(p, tooltip = "popup_text")
p <- ggplot(knowledge.growth,
aes(x = avg_rating,
y = training_id,
group = training_id,
text = popup_text,
fill = factor(timing),
color = factor(timing))) +
geom_line() +
geom_point() +
facet_wrap(~item, ncol = 2) +
mna.bar.chart.theme +
theme(legend.position = "right") +
# guides(fill=guide_legend(title="Pre/Post")) +
# labs(fill = "") +
scale_fill_discrete("") +
scale_fill_manual(values = c(mna.red, mna.blue)) +
scale_color_manual(values = c(mna.red, mna.blue)) +
scale_x_continuous(limits = c(0, 4))
ggplotly(p, tooltip = "popup_text")
p <- ggplot(knowledge.growth,
aes(x = avg_rating,
y = training_id,
group = training_id,
text = popup_text,
fill = factor(timing),
color = factor(timing))) +
geom_line() +
geom_point() +
facet_wrap(~item, ncol = 2) +
mna.bar.chart.theme +
theme(legend.position = "right") +
scale_fill_manual(values = c(mna.red, mna.blue)) +
scale_color_manual(values = c(mna.red, mna.blue)) +
scale_x_continuous(limits = c(0, 4))
ggplotly(p, tooltip = "popup_text")
p <- ggplot(knowledge.growth,
aes(x = avg_rating,
y = training_id,
group = training_id,
text = popup_text,
fill = factor(timing),
color = factor(timing))) +
geom_line() +
geom_point() +
facet_wrap(~item, ncol = 2) +
mna.bar.chart.theme +
# theme(legend.position = "right") +
scale_fill_manual(values = c(mna.red, mna.blue)) +
scale_color_manual(values = c(mna.red, mna.blue)) +
scale_x_continuous(limits = c(0, 4))
ggplotly(p, tooltip = "popup_text")
mna.blue
mna.red
gitbook(split_by = "none")
render_book("trio_survey_reports.Rmd", "bookdown::gitbook", output_dir = "docs")
p <- ggplot(filter(knowledge.growth, training_year == "2018"), aes(x = item,
y = avg_rating,
text = avg_rating)) +
geom_bar(stat = "identity", fill = mna.blue) +
coord_flip() +
scale_y_continuous(limits = c(0, 4)) +
mna.bar.chart.theme
ggplotly(p, tooltip = "avg_rating")
p <- ggplot(filter(knowledge.growth, training_year == "2018"), aes(x = item,
y = avg_rating,
text = popup_text)) +
geom_bar(stat = "identity", fill = mna.blue) +
coord_flip() +
scale_y_continuous(limits = c(0, 4)) +
mna.bar.chart.theme
ggplotly(p, tooltip = "popup_text")
View(post.surveys)
decision.makers <- pre.surveys %>%
filter(training_id == "2018 Online") %>%
select(currently_are_you_one_of_the_main_budget_related_decision_makers_at_your_institution) %>%
set_names("response") %>%
group_by(response) %>%
count() %>%
mutate(popup_text = paste(response,
n,
sep = ": "))
p <- ggplot(decision.makers, aes(x = response,
y = n,
text = popup_text,
fill = factor(response))) +
geom_bar(stat = "identity") +
coord_flip() +
scale_fill_manual(values = c(mna.red, mna.blue)) +
mna.bar.chart.theme
decision.makers <- pre.surveys %>%
filter(training_id == "2018 Online") %>%
select(currently_are_you_one_of_the_main_budget_related_decision_makers_at_your_institution) %>%
set_names("response") %>%
group_by(response) %>%
count() %>%
mutate(popup_text = paste(response,
n,
sep = ": "))
p <- ggplot(decision.makers, aes(x = response,
y = n,
text = popup_text,
fill = factor(response))) +
geom_bar(stat = "identity") +
coord_flip() +
scale_fill_manual(values = c(mna.red, mna.blue)) +
mna.bar.chart.theme
ggplotly(p, tooltip = "popup_text")
p <- ggplot(filter(knowledge.growth, training_id == "2018 Online"), aes(x = item,
y = avg_rating,
text = popup_text)) +
geom_bar(stat = "identity", fill = mna.blue) +
coord_flip() +
scale_y_continuous(limits = c(0, 4)) +
mna.bar.chart.theme
ggplotly(p, tooltip = "popup_text")
